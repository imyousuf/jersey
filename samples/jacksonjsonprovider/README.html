<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Jackson JAX-RS JSON Provider Example</title>
<style type="text/css"><!--
  .figure { text-align:center;
            margin: 20px}
  .cliSample { background-color:lightgray }
--></style>
</head>


  <body>
    <h1>Jackson JAX-RS JSON Provider Example</h1>
    <p>This example demonstrates how to produce/consume JSON representation from Java objects. This applies not only to JAXB beans, as shown at <tt>json-from-jaxb</tt> example
    but also to ordinary, unannotated, POJOs
    <p>A simple web application is presented with two simple read-only resources: One is based on a simple unannotated POJO, and could only provide JSON based representations.
        Besides of the pure JSON, it also produces a JSONP (JSON with padding, which allows you to overcome the cross domain problem) representation.
    The second web resource shows how to workaround the default Jersey JSON provider limitation regarding empty arrays in JAXB beans. For this resource, the JSON representation
    is produced by Jackson JAX-RS provider, while XML representation is generated by JAXB.
     

    <h2>Contents</h2>
    <p>The "empty array" web resource is implemented by <code>com.sun.jersey.samples.jacksonjsonprovider.EmptyArrayResource</code> class.
    The "non JAXB" web resource is implemented by <code>com.sun.jersey.samples.jacksonjsonprovider.NonJAXBBeanResource</code> class.
    <p>The mapping of the URI path space is presented in the following table:</p>
	<table border="1">
	<tr>
	<th>URI path</th>
	<th>Resource class</th>
	<th>HTTP methods</th>
	</tr>

	<tr>
	<td>/emptyArrayResource</td>
	<td>EmptyArrayResource</td>
	<td>GET</td>
	</tr>

	<tr>
	<td>/nonJAXBResource</td>
	<td>NonJAXBBeanResource</td>
	<td>GET</td>
	</tr>

    </table>
    
    <p>Please note the <code>JSONConfiguration.FEATURE_POJO_MAPPING</code> 
    feature set with the init parameters in the example Main class. 
    This feature enables the Jackson JAX-RS provider. 
    It the feature would be set to false or was missing,
    the Jackson entity providers would not be utilized.

    <p>To use Jackson specific configuration options, one could implement
        a <code>ContextResolver&lt;ObjectMapper&gt;</code> provider.
        For an example of such implementation, see <code>MyObjectMapperProvider</code> class.
    
    <h2>Running the Example</h2>
         <p>Run the example as follows:</p>
        <blockquote><pre>
mvn clean compile exec:java</pre></blockquote>
        <p>This deploys the JSON from JAXB example using 
            <a href="http://grizzly.java.net/">Grizzly</a>
        </p>
        <p>A <a href="http://wadl.java.net/#spec">WADL description</a> may be accessed at the URL:</p>
        <blockquote><code><a href="http://localhost:9998/jacksonjsonprovider/application.wadl">http://localhost:9998/jacksonjsonprovider/application.wadl</a></code></blockquote>
	
	<p>The two resources could be accessed via</p>
	<blockquote><code><a href="http://localhost:9998/jacksonjsonprovider/emptyArrayResource">http://localhost:9998/jacksonjsonprovider/emptyArrayResource</a></code></blockquote>
	<blockquote><code><a href="http://localhost:9998/jacksonjsonprovider/nonJAXBResource">http://localhost:9998/jacksonjsonprovider/nonJAXBResource</a></code></blockquote>
  </body>
</html>
